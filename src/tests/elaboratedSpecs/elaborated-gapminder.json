{
    "width": 500,
    "height": 300,
    "data": {
        "url": "https://gist.githubusercontent.com/dwootton/a3c02e0f170d0b84638e014c63d1f908/raw/6a9504ac7ba878f18799e2e3777ca766e4953ddc/dunkins_no_24_hr.csv"
    },
    "projection": {
        "type": "albersUsa"
    },
    "encoding": {
        "longitude": {
            "field": "longitude",
            "type": "quantitative"
        },
        "latitude": {
            "field": "latitude",
            "type": "quantitative"
        },
        "color": {
            "value": "#FFFAA0"
        },
        "time": {
            "field": "open_datetime",
            "scale": {
                "type": "linear",
                "range": [0.0, 24.0]
            },
            "rescale": false,
            "interpolateLoop": false
        }
    },
    "layer": [{
            "mark": "circle",
            "transform": [{
                "filter": {
                    "time": [{
                        "equal": "datum.closed_datetime"
                    }]
                }
            }],
            "encoding": {
                "color": {
                    "value": "#FFFAA0"
                },
                "time": {
                    "field": null,
                    "scale": null,
                    "rescale": false,
                    "interpolateLoop": false
                }
            }
        },
        {
            "mark": "circle",
            "transform": [{
                "filter": {
                    "time": [{
                        "equal": "datum.open_datetime"
                    }]
                }
            }],
            "encoding": {
                "color": {
                    "value": "black"
                },
                "time": {
                    "field": null,
                    "scale": null,
                    "rescale": false,
                    "interpolateLoop": false
                }
            }
        },
        {
            "mark": "circle",
            "transform": [{
                "filter": {
                    "time": [{
                            "gt": "datum.open_datetime"
                        },
                        {
                            "lt": "datum.closed_datetime"
                        }
                    ]
                }
            }],
            "encoding": {
                "color": {
                    "value": "#A7C7E7"
                },
                "time": {
                    "field": null,
                    "scale": null,
                    "rescale": false,
                    "interpolateLoop": false
                }
            }
        }
    ]
}